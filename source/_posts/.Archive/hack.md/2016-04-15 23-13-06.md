title: hack一下学校的选课系统吧~
date: 2016-04-15 22:17:03
categories:
- 编程
tags:
- JavaScript
- http
---


#hack了一下学校的选课系统
并没写过科技文档，随便写一写。。
##学校选课系统登陆状态的保存
学校的系统用的是不知道几年前的清华大学的选课系统，先用chrome抓包看一下，抓的是登录页面
[清华大学选课系统](http://jwxt.sdu.edu.cn:7890/zhxt_bks/xk_login.html)（其实因为是乱码的原因，我也不知道这个网页的标题到底是什么。。）

![](./_image/caught.png)

`request URL`看起来非常的奇怪，抓了几个包都不是同样的网址，回到网页看查看表单的html源码。

```html
    <form action="/pls/wwwbks/bks_login2.login" method="POST" onsubmit="addJYM(this,2)">
```
可以看到，表单的`onsubmit`上绑定了一个`addJYM()`函数，在继续寻找`addJYM()`的所在位置，在整个网页引入的唯一的`JavaScript`代码中
```
<script language="JavaScript1.2" src="nocache.js"></script>
```

[nocache.js](http://jwxt.sdu.edu.cn:7890/zhxt_bks/nocache.js)
（我chrome打开是乱码状态，在本地用文本编辑器以gbk编码打开即可）
不知道为什么，


`response`中的`set-cookies`直接观察结构能看出来是`学号+时间`的格式，而被我打码的表单数据是我的学号和密码（明文传输，给我省劲了不少）


所以用的应该只是cookies保存。然后决定先从cookies入手。
学校的登录状态状态靠的是cookies保存，

